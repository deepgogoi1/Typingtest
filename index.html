<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Typing Test with Name & Email</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #form-box, #question-box, #typing-box, #result-box { margin-top: 20px; display: none; }
    textarea { width: 100%; height: 150px; }
    #form-box input { margin: 5px 0; width: 100%; padding: 8px; font-size: 16px; }
    #alertBox { color: red; font-weight: bold; }
  </style>
</head>
<body>

<h2>Typing Test</h2>

<div id="form-box">
  <p><b>Before starting, please enter your details:</b></p>
  <input type="text" id="name" placeholder="Enter your name"><br>
  <input type="email" id="email" placeholder="Enter your email"><br>
  <button onclick="startTest()">Start Test</button>
  <p id="form-error" style="color:red;"></p>
</div>

<div id="question-box">
  <p><b>Type the following 20 words:</b></p>
  <p id="question-text"></p>
  <button onclick="startTypingTest()">Start Typing</button>
</div>

<div id="typing-box">
  <p><b>Time Left:</b> <span id="timer">60:00</span></p>
  <textarea id="answer"></textarea><br><br>
  <button onclick="submitTest()">Submit Test</button>
</div>

<div id="alertBox"></div>

<div id="result-box">
  <h3>Test Submitted</h3>
  <p><b>Name:</b> <span id="submitted-name"></span></p>
  <p><b>Email:</b> <span id="submitted-email"></span></p>
  <p><b>Original Words:</b></p>
  <p id="originalWords"></p>
  <p><b>Modified Words:</b></p>
  <p id="modifiedWords"></p>
</div>

<script>
  const words = [
    "education", "banana", "computer", "internet", "keyboard",
    "monitor", "science", "biology", "history", "language",
    "software", "python", "javascript", "exam", "student",
    "college", "teacher", "subject", "chapter", "lesson"
  ];

  let userName = "";
  let userEmail = "";
  let timeLeft = 60 * 60; // 60 minutes
  let timerInterval;

  document.getElementById('form-box').style.display = 'block';

  function startTest() {
    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();

    if (!name || !email) {
      document.getElementById("form-error").innerText = "Please fill out both name and email.";
      return;
    }

    userName = name;
    userEmail = email;

    document.getElementById("form-box").style.display = "none";
    document.getElementById("question-box").style.display = "block";
    document.getElementById("question-text").innerText = words.join(" ");
  }

  function startTypingTest() {
    document.getElementById("question-box").style.display = "none";
    document.getElementById("typing-box").style.display = "block";
    startTimer();
  }

  function startTimer() {
    const timer = document.getElementById("timer");
    timerInterval = setInterval(() => {
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      timer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      timeLeft--;
      if (timeLeft < 0) {
        clearInterval(timerInterval);
        submitTest();
      }
    }, 1000);
  }

  function slightChange(word) {
    if (word.length <= 3) return word;
    const idx = Math.floor(Math.random() * word.length);
    if (Math.random() > 0.5) {
      return word.slice(0, idx) + word.slice(idx + 1);
    } else {
      const letters = "abcdefghijklmnopqrstuvwxyz";
      const newChar = letters[Math.floor(Math.random() * letters.length)];
      return word.slice(0, idx) + newChar + word.slice(idx + 1);
    }
  }

  function submitTest() {
    clearInterval(timerInterval);
    document.getElementById("typing-box").style.display = "none";
    document.getElementById("result-box").style.display = "block";

    document.getElementById("submitted-name").innerText = userName;
    document.getElementById("submitted-email").innerText = userEmail;

    document.getElementById("originalWords").innerText = words.join(" ");
    const modified = words.map(slightChange);
    document.getElementById("modifiedWords").innerText = modified.join(" ");
  }
</script>

</body>
  </html>
  
