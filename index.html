<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Typing Test</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; user-select: none; }
    #form-box, #test-box, #message-box { margin-top: 20px; display: none; }
    textarea {
      width: 100%;
      height: 150px;
      font-size: 16px;
      resize: none;
    }
    input {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      font-size: 16px;
    }
    #question-text {
      font-weight: bold;
      font-size: 18px;
      text-transform: uppercase;
      background-color: #f7f7f7;
      padding: 10px;
      border: 1px solid #ccc;
      margin-bottom: 10px;
    }
    #timer {
      font-weight: bold;
      margin-bottom: 10px;
    }
    #user-typed span.wrong {
      color: red;
      font-weight: bold;
    }
    #user-typed span.correct {
      color: black;
    }
    #user-typed, #final-question {
      margin-top: 10px;
      padding: 10px;
      border: 1px solid #ccc;
      background-color: #f1f1f1;
      font-size: 16px;
    }
  </style>
</head>
<body oncontextmenu="return false" oncopy="return false" oncut="return false" onpaste="return false">

<h2>Typing Test</h2>

<div id="form-box">
  <p><b>Before starting, please enter your details:</b></p>
  <input type="text" id="name" placeholder="Enter your name">
  <input type="email" id="email" placeholder="Enter your email">
  <button onclick="startTest()">Start Test</button>
  <p id="form-error" style="color:red;"></p>
</div>

<div id="test-box">
  <p id="timer">Time Left: 01:00</p>
  <div id="question-text"></div>
  <textarea id="answer" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea><br><br>
  <button onclick="submitTest()">Submit Test</button>
</div>

<div id="message-box">
  <p><b>Try again next time.</b></p>
  <p>Our job is always available for you.</p>
  <p><b>What you typed vs correct answer:</b></p>
  <div id="final-question"></div>
  <div id="user-typed"></div>
</div>

<script>
  const words = [
    "education", "banana", "computer", "internet", "keyboard",
    "monitor", "science", "biology", "history", "language",
    "software", "python", "javascript", "exam", "student",
    "college", "teacher", "subject", "chapter", "lesson"
  ];

  let userName = "";
  let userEmail = "";
  let timeLeft = 60;
  let timerInterval;

  document.getElementById('form-box').style.display = 'block';

  function startTest() {
    const name = document.getElementById("name").value.trim();
    const email = document.getElementById("email").value.trim();

    if (!name || !email) {
      document.getElementById("form-error").innerText = "Please fill out both name and email.";
      return;
    }

    userName = name;
    userEmail = email;

    document.getElementById("form-box").style.display = "none";
    document.getElementById("test-box").style.display = "block";

    document.getElementById("question-text").innerText = words.join(" ").toUpperCase();

    startTimer();
  }

  function startTimer() {
    const timer = document.getElementById("timer");
    timerInterval = setInterval(() => {
      const minutes = Math.floor(timeLeft / 60);
      const seconds = timeLeft % 60;
      timer.textContent = `Time Left: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
      timeLeft--;
      if (timeLeft < 0) {
        clearInterval(timerInterval);
        submitTest();
      }
    }, 1000);
  }

  function submitTest() {
    clearInterval(timerInterval);

    document.getElementById("test-box").style.display = "none";
    document.getElementById("message-box").style.display = "block";

    const original = words.join(" ").toUpperCase().split(" ");
    const userInput = document.getElementById("answer").value.trim().toUpperCase().split(/\s+/);

    const output = [];

    for (let i = 0; i < original.length; i++) {
      const userWord = userInput[i] || "";
      if (userWord === original[i]) {
        output.push(`<span class="correct">${userWord}</span>`);
      } else {
        output.push(`<span class="wrong">${userWord}</span>`);
      }
    }

    document.getElementById("final-question").innerText = original.join(" ");
    document.getElementById("user-typed").innerHTML = output.join(" ");
  }
</script>

</body>
</html>
